{"version":3,"sources":["../src/single-spa-globals.js"],"names":[],"mappings":";;;;;QAAgB,cAAc,GAAd,cAAc;AAAvB,SAAS,cAAc,CAAC,aAAa,EAAE;AAC1C,QAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;AAC/B,cAAM,IAAI,KAAK,+DAA+D,CAAC;KAClF;AACD,QAAI,OAAO,GAAG,EAAE,CAAC;AACjB,WAAO;AACH,4BAAoB,EAAE,gCAAW;AAC7B,mBAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAK;AAC5B,qBAAK,IAAI,KAAK,IAAI,aAAa,EAAE;AAC7B,wBAAM,YAAY,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC;AAC1C,wBAAI,OAAO,CAAC,YAAY,CAAC,EAAE;AACvB,8BAAM,CAAC,YAAY,CAAC,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;qBAChD;iBACJ;AACD,uBAAO,EAAE,CAAC;aACb,CAAC,CAAC;SACN;AACD,+BAAuB,EAAE,mCAAW;AAChC,mBAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAK;AAC5B,qBAAK,IAAI,KAAK,IAAI,aAAa,EAAE;AAC7B,wBAAM,YAAY,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC;AAC1C,2BAAO,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;AAC7C,wBAAI;AACA,+BAAO,MAAM,CAAC,YAAY,CAAC,CAAC;qBAC/B,CAAC,OAAM,EAAE,EAAE;;AAER,8BAAM,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC;qBACpC;iBACJ;AACD,uBAAO,EAAE,CAAC;aACb,CAAC,CAAC;SACN;KACJ,CAAA;CACJ","file":"single-spa-globals.dist.js","sourcesContent":["export function appWithGlobals(listOfGlobals) {\n    if (!Array.isArray(listOfGlobals)) {\n        throw new Error(`The list of globals (i.e., an array of strings) is required`);\n    }\n    let globals = {};\n    return {\n        applicationWillMount: function() {\n            return new Promise((resolve) => {\n                for (let index in listOfGlobals) {\n                    const nameOfGlobal = listOfGlobals[index];\n                    if (globals[nameOfGlobal]) {\n                        window[nameOfGlobal] = globals[nameOfGlobal];\n                    }\n                }\n                resolve();\n            });\n        },\n        applicationWasUnmounted: function() {\n            return new Promise((resolve) => {\n                for (let index in listOfGlobals) {\n                    const nameOfGlobal = listOfGlobals[index];\n                    globals[nameOfGlobal] = window[nameOfGlobal];\n                    try {\n                        delete window[nameOfGlobal];\n                    } catch(ex) {\n                        //browsers don't let you delete properties that were created with 'var', so the best we can do is set to undefined\n                        window[nameOfGlobal] = undefined;\n                    }\n                }\n                resolve();\n            });\n        }\n    }\n}\n"]}